<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ISIS协议</title>
      <link href="/2022/10/13/ISIS%E5%8D%8F%E8%AE%AE/"/>
      <url>/2022/10/13/ISIS%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<hr><h1 id="IS-IS"><a href="#IS-IS" class="headerlink" title="IS-IS"></a>IS-IS</h1><h3 id="ISIS与OSPF的区别："><a href="#ISIS与OSPF的区别：" class="headerlink" title="ISIS与OSPF的区别："></a>ISIS与OSPF的区别：</h3><pre><code>1、相同点：都是采用SPF算法。2、不同点：IS-IS基于OSI参考模型，OSPF基于TCP/IP参考模型    IS-IS用于支持CLNP，OSPF用于支持IP协议3、IS-IS是网络层协议，是运行在数据链路层之上备注：CLNP无连接的网络服务，类似于TCP/IP模型中的IP协议，都是采用逻辑寻址的网络层协议。IS-IS可以运行在CLNP（OSI）协议中，也可以运行在TCP/IP中</code></pre><h3 id="动态路由协议划分："><a href="#动态路由协议划分：" class="headerlink" title="动态路由协议划分："></a>动态路由协议划分：</h3><pre><code>按范围分：IGP：内部网关路由协议——RIP、OSPF、IS-IS        EGP：外部网关路由协议——BGP按特性分：链路状态路由协议：OSPF、IS-IS        距离矢量路由协议：RIP、BGP</code></pre><h2 id="集成化IS-IS协议"><a href="#集成化IS-IS协议" class="headerlink" title="集成化IS-IS协议"></a>集成化IS-IS协议</h2><h3 id="集成化IS-IS特点："><a href="#集成化IS-IS特点：" class="headerlink" title="集成化IS-IS特点："></a>集成化IS-IS特点：</h3><pre><code>特点：（1）适用于大型网络     （2）适用于RPC增量路由算法，收敛速度块     （3）报文中带有TLV字段,拓展性很强</code></pre><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><pre><code>原理：（1）发送hello报文建立邻居关系     （2）运行ISP（链路状态PDU），泛洪形成相同的LSDB     （3）运行SPF算法，得出最短路径</code></pre><h3 id="地址结构："><a href="#地址结构：" class="headerlink" title="地址结构："></a>地址结构：</h3><pre><code>CLNP：无连接网络协议NSAP：网络服务接入点NET：网络实体标识符</code></pre><p><img src="https://s2.loli.net/2022/10/13/nVYTjfql4EFiuBh.png" alt="地址结构"></p><h3 id="区域"><a href="#区域" class="headerlink" title="区域"></a>区域</h3><pre><code>基于路由器划分骨干和非骨干区域按路由器级别划分level-1（非骨干区域）    level-2（骨干区域）level-1-2（默认类型，能同时创建level-1和level-2的LSDB）</code></pre><h3 id="邻居关系"><a href="#邻居关系" class="headerlink" title="邻居关系"></a>邻居关系</h3><pre><code>level-1和level-1是level-1邻居关系level-1和level-1-2是level-1邻居关系level-1-2和level-2是level-2邻居关系level-2和level-2是level-2邻居关系</code></pre><p>通信原则：</p><pre><code>以下level简写为l-1等（1）L-1-2路由器会产生ATT位为&quot;1&quot;的KSP，L-1路由器收到后会产生下一跳指向L-1-2路由器的缺省路由。（2）L-1-2路由器会把自己所在区域的明细路由挂在L-2级别的LSP上传递给L-2路由器，L-2路由器就会到非骨干区域的路由。</code></pre><h3 id="网络类型"><a href="#网络类型" class="headerlink" title="网络类型"></a>网络类型</h3><pre><code>P2P:IIH（is-is hello消息）MA：    level-1组播更新（mac0180-c200-0014）    Level-2组播更新（mac0180-c200-0015）修改网络类型：【r2-接口】isis circuit-type p2p</code></pre><h3 id="报文"><a href="#报文" class="headerlink" title="报文"></a>报文</h3><pre><code>hello：建立维护邻居关系LSP：链路状态PDU：交换链路状态信息（LSU：LSA）CSNP：全序列号PDU：描述链路状态信息（DD）PSNP：部分序列号PDU：请求个确认链路状态信息（LSR，LSACK）</code></pre><p><img src="https://s2.loli.net/2022/10/13/ov4MzBuyk3gaIrb.png" alt="邻居关系的建立"></p><p>配置</p><pre><code>进入IS-IS：【R1】isis配置实体网络：【R1-isis-1】network-entity 49.0001.0000.0000.0001.00配置路由器级别：【R1-isis-1】is-level-1接口开启ISIS：【进入接口】isis enable查看ISIS邻居关系：display isis peerISIS骨干区域向骨干区域渗透：【r2-isis-1】import-route isis level-2 into level-1</code></pre><h3 id="开销"><a href="#开销" class="headerlink" title="开销"></a>开销</h3><p>分为：narrow：窄模式</p><pre><code>        wide：宽模式</code></pre><pre><code>修改开销模式：【R1-isis-1】cost-style&#123;narrow|wide&#125;修改开销：窄模式：【r1-接口】isis cost&lt;1-63&gt;（最大60）宽模式：【r1-接口】isis cost&lt;1-16777215&gt;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> -ISIS协议是最好的 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>信息收集-架构-搭建-WAF等</title>
      <link href="/2022/10/01/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E6%9E%B6%E6%9E%84-%E6%90%AD%E5%BB%BA-WAF%E7%AD%89/"/>
      <url>/2022/10/01/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-%E6%9E%B6%E6%9E%84-%E6%90%AD%E5%BB%BA-WAF%E7%AD%89/</url>
      
        <content type="html"><![CDATA[<h2 id="信息收集-架构-搭建-WAF等"><a href="#信息收集-架构-搭建-WAF等" class="headerlink" title="信息收集-架构,搭建,WAF等"></a>信息收集-架构,搭建,WAF等</h2><h2 id="1-CMS识别技术"><a href="#1-CMS识别技术" class="headerlink" title="1.CMS识别技术"></a>1.CMS识别技术</h2><ol><li><p>网站下方的CMS图标</p></li><li><p>搜索特定的ico文件—hash值与CMS指纹识别库匹配</p></li><li><p>查看网站的搭建平台</p></li><li><p>查看网站的开发语言的脚本框架的漏洞—网站的文件路径</p></li><li><p>分析目录的工作原理—ip和域名的文件结构</p></li><li><p>搜索特定的URL获取相似站点</p></li><li><p>查看网站的响应包</p></li></ol><h2 id="2-源码获取技术"><a href="#2-源码获取技术" class="headerlink" title="2.源码获取技术"></a>2.源码获取技术</h2><ol><li><p> 搜索引擎搜索</p></li><li><p> 第三方源码站—站长之家，菜鸟源码</p></li><li><p> 淘宝咸鱼</p></li><li><p> 内部渠道 </p></li></ol><h2 id="3-架构信息获取"><a href="#3-架构信息获取" class="headerlink" title="3.架构信息获取"></a>3.架构信息获取</h2><p>1．Nmap扫描识别端口和OS的类型</p><p>2．网站区分大小写判断系统</p><p>3．脚本识别数据库—asp+Access；PHP+MySQL；aspx+mssql;jsp+mssql/orcale;Python+mogodb</p><p>4．Os识别数据库—windows才有Access+sqlserver</p><p>5．端口扫描—端口号对应不同的数据库</p><p>6．Nmap扫描第三方平台和软件—phpmyadmin </p><h2 id="4-站点搭建分析"><a href="#4-站点搭建分析" class="headerlink" title="4.站点搭建分析"></a>4.站点搭建分析</h2><h3 id="4-1搭建习惯-目录型站点"><a href="#4-1搭建习惯-目录型站点" class="headerlink" title="4.1搭建习惯-目录型站点"></a>4.1搭建习惯-目录型站点</h3><p>搭建习惯-目录型站点 在站点的层级目录下会存在另一套系统</p><p> 怎么知道网站存在目录：</p><ol><li><p> 目录扫描工具</p></li><li><p> 随意的点击 </p></li></ol><h3 id="4-2搭建习惯-端口类站点"><a href="#4-2搭建习惯-端口类站点" class="headerlink" title="4.2搭建习惯-端口类站点"></a>4.2搭建习惯-端口类站点</h3><p>搭建习惯-端口类站点 不同端口对应不同站点</p><p> 怎么知道网站开放的端口：</p><ul><li>对地址进行端口扫描</li></ul><h3 id="4-3搭建习惯-子域名站点"><a href="#4-3搭建习惯-子域名站点" class="headerlink" title="4.3搭建习惯-子域名站点"></a>4.3搭建习惯-子域名站点</h3><p>搭建习惯-目录型站点 在不同的子域名可能会存在同一服务器上（也可能在不同的服务器上）</p><p> 怎么知道网站的子域名：</p><ul><li>对子域名进行进爆破</li><li>不同的IP重新开始信息收集</li></ul><h3 id="4-4搭建习惯-类似域名站点"><a href="#4-4搭建习惯-类似域名站点" class="headerlink" title="4.4搭建习惯-类似域名站点"></a>4.4搭建习惯-类似域名站点</h3><p>建习惯-类似域名站点 不同的顶级域名可能存在相同的网站不同的IP以及系统</p><p>怎么知道网站的类似站点</p><ul><li>写脚本爆破根域名 </li></ul><h3 id="4-5搭建习惯-旁注-C段站点"><a href="#4-5搭建习惯-旁注-C段站点" class="headerlink" title="4.5搭建习惯-旁注,C段站点"></a>4.5搭建习惯-旁注,C段站点</h3><p>旁注（前提条件：多个站点服务器）：同服务器不同站点，一个域名不行就尝试服务器的另一个域名）； 有一些旁注查询的第三方网站，直接搜，如 <a href="https://www.webscan.cc/%EF%BC%9B">https://www.webscan.cc/；</a></p><p>C段：同网段不同服务器不同站点，例如一个服务器的某站点IP为192.168.1.101，那么就可以从这入手，拿到同一网段另一个服务器（站点IP假设为192.168.1.103）的权限。</p><h3 id="4-6搭建习惯-搭建软件特征站点"><a href="#4-6搭建习惯-搭建软件特征站点" class="headerlink" title="4.6搭建习惯-搭建软件特征站点"></a>4.6搭建习惯-搭建软件特征站点</h3><p>搭建平台—宝塔，phpStudy，inmap等等，具有安全隐患，如phpStudy上面会有PhpMyAdmin，账号默认登录 </p><p>怎么知道网站的搭建软件</p><ul><li>软件常用数据库与中间件搭配信息</li><li>默认软件端口</li></ul><h2 id="5-WAF防护分析"><a href="#5-WAF防护分析" class="headerlink" title="5. WAF防护分析"></a>5. WAF防护分析</h2><p>Web应用防护系统（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称： WAF）用户一般采用防火墙作为安第一道防线。在现实中，Web服务器和应用存在各种安全问题，普通防火墙难以检测和阻断的，由此产生了WAF。—dns域名服务器和路由器之间，分为软件和硬件。</p><p>Web应用防护与防火墙不同，WAF工作在应用层，对来自Web应用程序客户端的各类请求进行内容检测和验证，确保其安全性与合法性，对非法的请求予以实时阻断，从而对各类网站站点进行有效防护。 </p><h3 id="5-1如何快速识别-WAF"><a href="#5-1如何快速识别-WAF" class="headerlink" title="5.1如何快速识别 WAF"></a>5.1如何快速识别 WAF</h3><p>工具识别</p><p><a href="https://github.com/EnableSecurity/wafw00f">https://github.com/EnableSecurity/wafw00f</a> </p><p>利用浏览器抓包识别</p><p>— X-Powered-By: WAF</p>]]></content>
      
      
      
        <tags>
            
            <tag> 学习记录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSPF协议</title>
      <link href="/2022/10/01/OSPF%E5%8D%8F%E8%AE%AE/"/>
      <url>/2022/10/01/OSPF%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="OSPF协议"><a href="#OSPF协议" class="headerlink" title="OSPF协议"></a>OSPF协议</h2><h3 id="OSPF有几种报文？"><a href="#OSPF有几种报文？" class="headerlink" title="OSPF有几种报文？"></a>OSPF有几种报文？</h3><pre><code>1、hello，用于协商维持建立OSPF邻居2、DD报文，用于交互LSA的摘要信息3、LSR报文，用于请求一条LSA4、LSU报文，用于发送LSA的详细信息5、LSACK，用于对接收到的LSA进行确认</code></pre><h3 id="Hello报文"><a href="#Hello报文" class="headerlink" title="Hello报文"></a>Hello报文</h3><pre><code>version，描述版本号message Type 协议报文类型source ospf router，描述发送该hello报文的路由器IDarea ID,描述发送该报文的接口在哪个区域checksum 校验和，用于保证保证报文的完整性auth Type 认证类型，Nullauth data 认证数据</code></pre><h3 id="DR与BDR选举原则"><a href="#DR与BDR选举原则" class="headerlink" title="DR与BDR选举原则"></a>DR与BDR选举原则</h3><pre><code>1、优先级，默认1，越大越优先2、当优先级一致，比较接口地址大的为DR3、DR优先级为0，则不参与DR与BDR的选举4、DR与BDR选举完成，不允许被强占</code></pre><h3 id="OSPF邻居建立条件"><a href="#OSPF邻居建立条件" class="headerlink" title="OSPF邻居建立条件"></a>OSPF邻居建立条件</h3><pre><code>1、版本一致2、Router ID不能冲突3、区域ID一致4、认证类型和密码一致5、俩端IP需要在同一网段（掩码相同）6、hello报文发送间隔时间一致7、dead时间一致8、option字段中N和E一致9、俩段MTU的接口一致</code></pre><h6 id="DD报文包括摘要信息。LSA"><a href="#DD报文包括摘要信息。LSA" class="headerlink" title="DD报文包括摘要信息。LSA"></a>DD报文包括摘要信息。LSA</h6><p>OSPF涉及到五种报文，7个状态</p><h3 id="OSPF协议如何保证报文可靠性传输？"><a href="#OSPF协议如何保证报文可靠性传输？" class="headerlink" title="OSPF协议如何保证报文可靠性传输？"></a>OSPF协议如何保证报文可靠性传输？</h3><pre><code>1、邻居建立的三次握手2、重传机制3、LSR、LSU和LSACK显示确认机制，DD报文的隐式确认</code></pre><p>发送空的DD报文，目的是为了主从选举，按需同步。</p><h3 id="OSPF的七种状态"><a href="#OSPF的七种状态" class="headerlink" title="OSPF的七种状态"></a>OSPF的七种状态</h3><pre><code>down——代表osf没有发现任何OSPF邻居init——代表发现OSPF邻居2-way——收到OSPF邻居的hello报文，并发现对方的active-neighbor有自身的router-idExstart——用于发送空的DD报文，互相进行主从选举Exchange——当确定主从关系后，进入到exchange状态发送带有LSA摘要信息的DD报文Loading——当收到对方的DD报文后，同时发现M=0，将会进入到loading状态请求自身没有的LSAFull——当自身请求列表中，所有接收的LSA，对方都发送过来之后，将会进入到Full状态</code></pre><h3 id="OSPF-LSDB的交互原则："><a href="#OSPF-LSDB的交互原则：" class="headerlink" title="OSPF LSDB的交互原则："></a>OSPF LSDB的交互原则：</h3><pre><code>1、互相交互自身没有的LSA2、以及使用新的LSA，替换掉旧的LSA</code></pre><h3 id="如何判断唯一的LSA？"><a href="#如何判断唯一的LSA？" class="headerlink" title="如何判断唯一的LSA？"></a>如何判断唯一的LSA？</h3><pre><code>LSA的三要素：    1、LSA类型（type）    2、LSA的ID（链路状态ID） link State ID    3、LSA的通告者 adv router</code></pre><h3 id="如和判断LSA的新旧状态？"><a href="#如和判断LSA的新旧状态？" class="headerlink" title="如和判断LSA的新旧状态？"></a>如和判断LSA的新旧状态？</h3><pre><code>1、首先比较LSA的序列号，初始0x80000001每次OSPF更新，都会+12、序列号相同，则比较检验和，值越大越优先3、当检验和相同，则比较LSA的age时间    （1）首先age=3600s的LSA，用于删除一条LSA    （2）如果俩条LSA的age时间相差大于900s，将会选中age数值小的LSA。    （3）如果俩条LSa的age时间小于900s，将会认为相同，保持原有不变。</code></pre><p>每个OSPF路由器，都会用一类LSA描述自身所有启用的OSPF的接口</p><h3 id="OSPF的更新机制有俩种："><a href="#OSPF的更新机制有俩种：" class="headerlink" title="OSPF的更新机制有俩种："></a>OSPF的更新机制有俩种：</h3><pre><code>1、触发更新，当链路状态发生改变之后，OSPF将会触发更新，比如网段掩码变了，取消宣告2、周期更新，每个OSPF路由器自身产生的LSA都会间隔30分钟周期更新一次</code></pre><h3 id="OSPF的老化机制："><a href="#OSPF的老化机制：" class="headerlink" title="OSPF的老化机制："></a>OSPF的老化机制：</h3><pre><code>OSPF路由器每产生一条LSA，都会在一个age时间为3600s，初始值为1，当age时间递增到3600s之后，将会认为LSA老化，从自身LSDB中删除。</code></pre><h3 id="OSPF删除机制："><a href="#OSPF删除机制：" class="headerlink" title="OSPF删除机制："></a>OSPF删除机制：</h3><pre><code>当OSPF需要删除一条LSA的时候，将会把LSA的age时间变化为3600s，当其他的路由器收到该LSA之后，将会把自身LSDB中对应的LSA删除。</code></pre><p><img src="https://s2.loli.net/2022/10/12/WcV24Hm1EDdGTJ8.png" alt="未命名图片"></p><h3 id="OSPF网络类型：4-种"><a href="#OSPF网络类型：4-种" class="headerlink" title="OSPF网络类型：4 种"></a>OSPF网络类型：4 种</h3><pre><code>1、P2P：链路层协议是PPP，HDLC，默认是P2P2、P2MP（点到多点）DS-VPN，DM-VPN    hello报文是组播形式224.0.0.5，其余报文（DD，LSR，LSU，LSACK）为单播3、Broadcast广播类型：组播224.0..54、MA5、NBMA，没有广播和组播功能的环境，以单播发送报文。</code></pre><p>BMA 广播多路访问—————-&gt;—-以太网（共享式）—–双绞线</p><p>网络类型</p><p>BMA 广播多路访问—————-&gt;—-以太网（共享式）—–双绞线</p><table><thead><tr><th>生存时间=10</th><th>死亡时间=40</th><th>子网掩码是否协商：是</th><th>需不需要选举DR/BDR：需要</th><th>邻居</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>NBMA 非广播多路访问———-&gt;——全互联FR（帧中继）—串行电缆</p><table><thead><tr><th>生存时间=30</th><th>死亡时间=120</th><th>子网掩码是否协商：是</th><th>需不需要选举DR/BDR：需要</th><th>邻居</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>P2P 点到点——————–&gt;——-ppp/HDLC————–串行电缆</p><table><thead><tr><th>生存时间=10</th><th>死亡时间=40</th><th>子网掩码是否协商：否</th><th>需不需要选举DR/BDR：不需要</th><th>邻接</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>P2MP 点到多点————–&gt;——–非全互联FR—————串行电缆</p><table><thead><tr><th>生存时间=30</th><th>死亡时间=120</th><th>子网掩码是否协商：是</th><th>需不需要选举DR/BDR：不需要</th><th>邻接</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>Virtual 虚拟网络 ———–&gt;———-vlink———————-双绞线</p><table><thead><tr><th>生存时间=10</th><th>死亡时间=40</th><th>子网掩码是否协商：否</th><th>需不需要选举DR/BDR：不需要</th><th>邻接</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>当一个区域内地俩台路由器，一端是P2P另一端是BMA，邻居关系可以建立，邻接关系可以起来，但是不会传路由</p><h3 id="LSU和LSACK的发送地址根据路由器角色有所变化"><a href="#LSU和LSACK的发送地址根据路由器角色有所变化" class="headerlink" title="LSU和LSACK的发送地址根据路由器角色有所变化"></a>LSU和LSACK的发送地址根据路由器角色有所变化</h3><pre><code>1）DRother--DRother产生的LSU通过224.0.0.6发送给DR和BDR。2）DR通过224.0.0.5发送给其他的DRohter和BDR</code></pre><h3 id="DR和BDR的区别："><a href="#DR和BDR的区别：" class="headerlink" title="DR和BDR的区别："></a>DR和BDR的区别：</h3><pre><code>1）DR收到DRother的LSU则泛洪，BDR不进行反馈DR和BDR同时监听224.0.0.5和224.0.0.62）DRother不监听224.0.0.6，仅监听224.0.0.5</code></pre><p>LSR是以单播进发送</p><h2 id="OSPF域间路由—LSA"><a href="#OSPF域间路由—LSA" class="headerlink" title="OSPF域间路由—LSA"></a>OSPF域间路由—LSA</h2><p>链路类型：</p><p>​    P2P:描述了对端链路信息和本端链路信息</p><p>​    （描述了从一台路由器到另外一台路由器之间点到点的链路信息。用来描述拓扑信息）（P2P P2MP）</p><p>​    transNET：</p><p>​                        描述了从一台路由器需要经过一个transit（BMA/NBMA网络）网络的网段信息。用来描述拓扑信息。 </p><p>​    STUBnet：</p><p>​                        用来描述路由器本端loopback接口信息。用来描述路由信息。</p><h3 id="一类LSA"><a href="#一类LSA" class="headerlink" title="一类LSA"></a>一类LSA</h3><pre><code>一类LSA：router-LSA 路由器-LSA        LSID:router-ID        通告路由器：通告路由器        范围：本区域内        作用：描述本端链路信息和对端DR接口信息（BMA/NBMA）              描述本端接口信息和对端设备信息和所在网段信息</code></pre><p>用来构建区域内拓扑</p><h4 id="为什么需要二类LSA"><a href="#为什么需要二类LSA" class="headerlink" title="为什么需要二类LSA?"></a>为什么需要二类LSA?</h4><p>​    在一类LSA中没有描述DRother和DR之间所在网络和区域内所在路由器的个数。</p><pre><code>查看二类LSA： display ospf lsdb network</code></pre><h3 id="二类LSA"><a href="#二类LSA" class="headerlink" title="二类LSA"></a>二类LSA</h3><pre><code>二类LSA：NETwork--LSA---网路LSA        LSID：DR接口IP        通告路由器：DR路由器        范围：本区域内作用：描述了某网络中路由器的集合</code></pre><p><strong>一类LSA和二类LSA共同描述了区域内的拓扑</strong></p><pre><code>Dis ospf lsdb summary</code></pre><h3 id="三类LSA"><a href="#三类LSA" class="headerlink" title="三类LSA"></a>三类LSA</h3><pre><code>三类：LSA：network-summary-LSA：网络汇总LSA     LSID：区域外某网络号     通告路由器：ABR路由     范围：区域间     作用：描述了区域外某条路由信息     特性：具有距离矢量特性     缺点：导致LSDB增大     三类聚合：CIDR（需要被聚合网段所属区域）【R3-ospf-area 0.0.0.0】abr-summary 172.16.0.0 255.255.252.0</code></pre><p><strong>三类构建域间拓扑</strong></p><h3 id="四类LSA"><a href="#四类LSA" class="headerlink" title="四类LSA"></a>四类LSA</h3><pre><code>四类LSA：ASBR-summary-LSA： ABR汇总LSA        LSID：ASBR的router-id        通告路由器：ABR作用：描述ASBR的作用</code></pre><h3 id="五类LSA"><a href="#五类LSA" class="headerlink" title="五类LSA"></a>五类LSA</h3><pre><code>五类构建AS外拓扑    OSPF环路假设：？？？    外部度量计算类型：    E type 1：内部度量+外部度量    E type 2：外部度量    1 优于 2修改外部度量计算类型？【r4-ospf-1】import-route rip type 1</code></pre><h3 id="ABR"><a href="#ABR" class="headerlink" title="ABR"></a>ABR</h3><h4 id="ABR——区域间路由器，区域边界路由器"><a href="#ABR——区域间路由器，区域边界路由器" class="headerlink" title="ABR——区域间路由器，区域边界路由器"></a>ABR——区域间路由器，区域边界路由器</h4><pre><code>1）定义：连接了多个区域，并且有一个活动的接口处理骨干区域的路由，即为ABR。2）表示方式：ABR会在自身产生的一类LSA中，表明自己是一台ABR</code></pre><h3 id="ABR的作用："><a href="#ABR的作用：" class="headerlink" title="ABR的作用："></a>ABR的作用：</h3><pre><code>1）将直连区域内的1类和2类LSA，转换成3类LSA，传递至其他区域。2）将骨干区域内的3类LSA，转换成非骨干区域内的3类LSA。</code></pre><h3 id="区域间"><a href="#区域间" class="headerlink" title="区域间"></a>区域间</h3><h4 id="区域间的路由计算："><a href="#区域间的路由计算：" class="headerlink" title="区域间的路由计算："></a>区域间的路由计算：</h4><pre><code>1）路由条目如何计算：通过3类LSA携带的LSID+Net mask计算出网络号和掩码信息</code></pre><h4 id="区域间路由防环原则"><a href="#区域间路由防环原则" class="headerlink" title="区域间路由防环原则"></a>区域间路由防环原则</h4><pre><code>1）定义ABR设备，且定义了区域间路由的转换只能由ABR完成，而ABR是连接到骨干区域的，所以在OSPF区域设计，要保证非骨干区域与骨干区域相连。2）ABR永远不计算非骨干区域的三类LSA，即不加入路由表。3）非骨干区域有三类LSA，骨干区域肯定也有这条LSA。</code></pre><h3 id="虚拟链路"><a href="#虚拟链路" class="headerlink" title="虚拟链路"></a>虚拟链路</h3><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><pre><code>1）虚链路属于区域0的逻辑链路2）虚链路不能穿越特殊区域3）虚链路只能穿越一个常规的非骨干区域4）区域0做了认证，由于虚链路属于0，也会启用认证</code></pre><h3 id="OSPF汇总"><a href="#OSPF汇总" class="headerlink" title="OSPF汇总"></a>OSPF汇总</h3><p>1、在ABR上针对一个区域内的1类、2类LSA路由进行汇总</p><p>2、汇总路由的cost，继承明细路由中最大的cost值</p><p>3、明细路由出现震荡，汇总路由不会产生影响，只有当所有明细路由失效之后，汇总路由才会失效。</p><p>4、如果有两个ABR，需要在两个ABR上进行汇总</p><p>5、汇总中的防环：即ABR在一个区域内产生的一条3类LSA之后，如果在该区域也收到了其他ABR产生的相同3类，则不会计算该3类LSA。</p><p>6、在ASBR上针对自身产生的外部路由进行汇总</p>]]></content>
      
      
      
        <tags>
            
            <tag> -该死的OSOF协议 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/09/28/hello-world/"/>
      <url>/2022/09/28/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
